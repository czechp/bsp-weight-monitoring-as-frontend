<div class="container">
  <div class="container-column">
    <div class="container-item">
      <p class="key">Linia</p>
      <p class="value">{{ report.lineName }}</p>
    </div>
    <div class="container-item">
      <p class="key">Zmiana</p>
      <p class="value">{{ report.reportShift }}</p>
    </div>
    <div class="container-item">
      <p class="key">Produkt</p>
      <p class="value">{{ report.product.productName }}</p>
    </div>
  </div>
  <div class="container-column">
    <div class="container-item">
      <p class="key">Waga OK</p>
      <p class="value">{{ report.product.productCorrectWeight | twoDigits }} g</p>
    </div>
    <div class="container-item">
      <p class="key">Waga min.</p>
      <p class="value">{{ report.product.productMinimumWeight | twoDigits }} g</p>
    </div>
    <div class="container-item">
      <p class="key">Waga max.</p>
      <p class="value">{{ report.product.productMaximumWeight | twoDigits }} g</p>
    </div>
  </div>
  <div class="container-column">
    <div class="container-item">
      <p class="key">Wyskość kubka</p>
      <p class="value">{{ report.product.cupHeight | twoDigits }} mm</p>
    </div>
    <div class="container-item">
      <p class="key">Średnica kubka</p>
      <p class="value">{{ report.product.cupDiameter.toFixed(1) }} mm</p>
    </div>
    <div class="container-item">
      <p class="key">Waga kubka</p>
      <p class="value">{{ report.product.cupWeight.toFixed(1) }} g</p>
    </div>
  </div>
  <div class="container-column">
    <div class="container-item">
      <p class="key">Status</p>
      <p class="value">{{ report.reportOpen ? 'Otwarty' : 'Zamknięty' }}</p>
    </div>
    <div class="container-item">
      <p class="key">Data rozpoczęcia</p>
      <p class="value">{{ report.startAt | localDateTime }}</p>
    </div>
    <div class="container-item">
      <p class="key">Data zamknięcia</p>
      <p class="value">{{ report.closedAt | localDateTime }}</p>
    </div>
  </div>
</div>
<hr>
<div class="" *ngFor="let reportItem of report.reportItems">
  <h2>Pomiary wagi</h2>
  <div class="measurement-row">
    <div class="measurement-row-content">
      <div class="container-item">
        <p class="key">Data pomiaru</p>
        <p class="value">{{ reportItem.createdAt | localTime }}</p>
      </div>
      <div class="container-item">
        <p class="key">Średni pomiar</p>
        <p class="value">{{ reportItem.averageWeight | twoDigits }} g</p>
      </div>
      <div class="container-item">
        <p class="key">Odchyłka</p>
        <p class="value"
           [ngClass]="{'measurement-ok': reportItem.weightCorrect, 'measurement-nok': !reportItem.weightCorrect}">{{ reportItem.weightDeviation | twoDigits }}
          g</p>
      </div>
    </div>
    <div class="measurement-row-icon">
      <fa-icon *ngIf="reportItem.weightCorrect" icon="check" size="3x" class="measurement-ok"/>
      <fa-icon *ngIf="!reportItem.weightCorrect" icon="xmark" size="3x" class="measurement-nok"/>
    </div>
  </div>
  <div class="measurement-container">
    <app-measurement-tile style="width: 20rem" *ngFor="let measurement of reportItem.measurements"
                         [measurement]="measurement"
                         [product]="report.product"></app-measurement-tile>
  </div>
  <h2>Produkcja</h2>
  <div class="production-efficiency">
    <p class="production-efficiency-item">Oczekiwana <br> {{reportItem.efficiency.expectedProduction}} <br> <app-progress-bar [value]="reportItem.efficiency.expectedProductionPercent" /></p>
    <p class="production-efficiency-item">Rzeczywista <br> {{reportItem.efficiency.productCounter}} <br> <app-progress-bar [value]="reportItem.efficiency.productionProgressPercent" /></p>

  </div>
  <hr>
</div>
